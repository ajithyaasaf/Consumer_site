/*!
 * 
 * dmp.js 
 * __VERSION__ "0.1.5" 
 * updated at: 9/25/2024, 11:44:50 AM
 * 
 */!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"OPT_OUT_COOKIE",(function(){return OPT_OUT_COOKIE})),__webpack_require__.d(__webpack_exports__,"UUID_COOKIE",(function(){return UUID_COOKIE})),__webpack_require__.d(__webpack_exports__,"CCDS_COOKIE",(function(){return CCDS_COOKIE})),__webpack_require__.d(__webpack_exports__,"DMP_EMHASH",(function(){return DMP_EMHASH})),__webpack_require__.d(__webpack_exports__,"DMP_PHHASH",(function(){return DMP_PHHASH})),__webpack_require__.d(__webpack_exports__,"INCG_COOKIE",(function(){return INCG_COOKIE})),__webpack_require__.d(__webpack_exports__,"LOGIN_TRACK_COOKIE",(function(){return LOGIN_TRACK_COOKIE})),__webpack_require__.d(__webpack_exports__,"SSOID_COOKIE",(function(){return SSOID_COOKIE})),__webpack_require__.d(__webpack_exports__,"DOMAIN",(function(){return DOMAIN})),__webpack_require__.d(__webpack_exports__,"emptyListeners",(function(){return emptyListeners})),__webpack_require__.d(__webpack_exports__,"pointExtractor",(function(){return pointExtractor})),__webpack_require__.d(__webpack_exports__,"calculateTime",(function(){return calculateTime})),__webpack_require__.d(__webpack_exports__,"processResponse",(function(){return processResponse})),__webpack_require__.d(__webpack_exports__,"checkSSO",(function(){return checkSSO})),__webpack_require__.d(__webpack_exports__,"checkCentralSSO",(function(){return checkCentralSSO})),__webpack_require__.d(__webpack_exports__,"handleCentralSSOCallback",(function(){return handleCentralSSOCallback})),__webpack_require__.d(__webpack_exports__,"ckMap",(function(){return ckMap})),__webpack_require__.d(__webpack_exports__,"prepareJsonForParse",(function(){return prepareJsonForParse})),__webpack_require__.d(__webpack_exports__,"ecodeUri",(function(){return ecodeUri})),__webpack_require__.d(__webpack_exports__,"tpslv",(function(){return tpslv})),__webpack_require__.d(__webpack_exports__,"gdpb",(function(){return gdpb})),__webpack_require__.d(__webpack_exports__,"perpetualScroll",(function(){return perpetualScroll})),__webpack_require__.d(__webpack_exports__,"utm",(function(){return utm})),__webpack_require__.d(__webpack_exports__,"utmArray",(function(){return utmArray})),__webpack_require__.d(__webpack_exports__,"_getCookie",(function(){return _getCookie})),__webpack_require__.d(__webpack_exports__,"getDomain",(function(){return getDomain})),__webpack_require__.d(__webpack_exports__,"setCookie",(function(){return setCookie})),__webpack_require__.d(__webpack_exports__,"getMetaKeywords",(function(){return getMetaKeywords})),__webpack_require__.d(__webpack_exports__,"log",(function(){return log})),__webpack_require__.d(__webpack_exports__,"getProtocol",(function(){return getProtocol})),__webpack_require__.d(__webpack_exports__,"removeProtocol",(function(){return removeProtocol})),__webpack_require__.d(__webpack_exports__,"getLocationHref",(function(){return getLocationHref})),__webpack_require__.d(__webpack_exports__,"pcnl",(function(){return pcnl})),__webpack_require__.d(__webpack_exports__,"sendMessageUsingUrl",(function(){return sendMessageUsingUrl})),__webpack_require__.d(__webpack_exports__,"sendMessage",(function(){return sendMessage})),__webpack_require__.d(__webpack_exports__,"execErrFetch",(function(){return execErrFetch})),__webpack_require__.d(__webpack_exports__,"checkReferrer",(function(){return checkReferrer})),__webpack_require__.d(__webpack_exports__,"getReferrer",(function(){return getReferrer})),__webpack_require__.d(__webpack_exports__,"detectBrowser",(function(){return detectBrowser})),__webpack_require__.d(__webpack_exports__,"detectPrivateMode",(function(){return detectPrivateMode})),__webpack_require__.d(__webpack_exports__,"createScript",(function(){return createScript})),__webpack_require__.d(__webpack_exports__,"sendTimesPointData",(function(){return sendTimesPointData})),__webpack_require__.d(__webpack_exports__,"_addEvent",(function(){return _addEvent})),__webpack_require__.d(__webpack_exports__,"getSharePlatform",(function(){return getSharePlatform})),__webpack_require__.d(__webpack_exports__,"getHTMLElements",(function(){return getHTMLElements})),__webpack_require__.d(__webpack_exports__,"addEvent",(function(){return addEvent})),__webpack_require__.d(__webpack_exports__,"addAction",(function(){return addAction})),__webpack_require__.d(__webpack_exports__,"addFormListener",(function(){return addFormListener})),__webpack_require__.d(__webpack_exports__,"getAPI",(function(){return getAPI})),__webpack_require__.d(__webpack_exports__,"sendSubscriberEmailId",(function(){return sendSubscriberEmailId})),__webpack_require__.d(__webpack_exports__,"trackSocialShare",(function(){return trackSocialShare})),__webpack_require__.d(__webpack_exports__,"syncUUID",(function(){return syncUUID})),__webpack_require__.d(__webpack_exports__,"isMobile",(function(){return isMobile})),__webpack_require__.d(__webpack_exports__,"extMsz",(function(){return extMsz})),__webpack_require__.d(__webpack_exports__,"genderAgeCheck",(function(){return genderAgeCheck})),__webpack_require__.d(__webpack_exports__,"crrmob",(function(){return crrmob})),__webpack_require__.d(__webpack_exports__,"generateTUUID",(function(){return generateTUUID})),__webpack_require__.d(__webpack_exports__,"checkOneIdMap",(function(){return checkOneIdMap})),__webpack_require__.d(__webpack_exports__,"checkOneId",(function(){return checkOneId})),__webpack_require__.d(__webpack_exports__,"sendCDPData",(function(){return sendCDPData})),__webpack_require__.d(__webpack_exports__,"exec",(function(){return exec}));var _constants_api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);__webpack_require__.d(__webpack_exports__,"API_URL",(function(){return _constants_api__WEBPACK_IMPORTED_MODULE_0__.API_URL})),__webpack_require__.d(__webpack_exports__,"ADE_URL_SYNC",(function(){return _constants_api__WEBPACK_IMPORTED_MODULE_0__.ADE_URL_SYNC})),__webpack_require__.d(__webpack_exports__,"ADE_URL_EMAIL",(function(){return _constants_api__WEBPACK_IMPORTED_MODULE_0__.ADE_URL_EMAIL})),__webpack_require__.d(__webpack_exports__,"M360_API_ROUTE",(function(){return _constants_api__WEBPACK_IMPORTED_MODULE_0__.M360_API_ROUTE}));var _constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_utils_time_scroll_capture__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4),_utils_dataCaptureUsingGTM__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_utils_duplicateEventHandling__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_fn_userMetric__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3);const OPT_OUT_COOKIE="optout",UUID_COOKIE="_col_uuid",CCDS_COOKIE="_col_ccds",DMP_EMHASH="dmp_emhash",DMP_PHHASH="dmp_phhash",INCG_COOKIE="incg",LOGIN_TRACK_COOKIE="_col_secure",SSOID_COOKIE="csut",DOMAIN=document.domain;let perpetualScrollObserverAttached=!1;const linkCanonical=document.querySelector("link[rel='canonical']");let prevCanonicalPath=linkCanonical?linkCanonical.href:void 0,GTMEvents=[],GTMEventFilters=[],localStorageKeyForPrimeUser="",expiryDurationInMs=18e5,arClass="",captureTimeScroll=!1,emailMobileHash=!1;const emptyListeners=function(e,t){const n=["keydown","mousedown","pointerdown","pointerup","touchend"];async function r(a){await fetchDataWithStorageAccess(e,t),navigator.permissions.query({name:"top-level-storage-access",requestedOrigin:window.$cr.url}).then((e=>{"prompt"===e.state&&setCookie({name:"dmpFPSTrack",value:1,expiry:3})})).catch((e=>{})),n.forEach((e=>document.removeEventListener(e,r)))}n.forEach((e=>document.addEventListener(e,r,{once:!0})))},pointExtractor=function(){try{window.__tpWidgetLoaded?TPWidget.getTimesPoints(sendTimesPointData):document.body.addEventListener("tpwidget-loaded",(function(){TPWidget.getTimesPoints(sendTimesPointData)}))}catch(e){}},calculateTime=function(){var e=new Date;return sd=e.getMinutes(),0<=sd&&15>sd?sa=e.getFullYear()+"-"+parseInt(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":00":15<=sd&&30>sd?sa=e.getFullYear()+"-"+parseInt(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":15":30<=sd&&45>sd?sa=e.getFullYear()+"-"+parseInt(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":30":45<=sd&&(sa=e.getFullYear()+"-"+parseInt(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":45"),new Date(sa).getTime()},processResponse=function(res){try{var extractedJson=prepareJsonForParse(res),c="undefined"==typeof JSON?eval(response):JSON.parse(extractedJson);if(null!=c[0]._col_sync&&"true"==c[0]._col_sync){var cookieClientWebsiteId=COLOMBIA_ID.split("%3A").join("");return void window.$cr.cc(cookieClientWebsiteId,1,1)}for(var b=0;b<c.length;b++){const e=c[b].uuid,t=c[b].dmp_emhash,n=c[b].dmp_phhash;if(1==c[b].optout)return void window.$crr.act(!0);e&&e.length&&window.$cr.cc(UUID_COOKIE,e,3650),t&&t.length>0&&"null"!=t&&window.$cr.cc(DMP_EMHASH,t,3650),n&&n.length>0&&"null"!=n&&window.$cr.cc(DMP_PHHASH,n,3650)}}catch(e){window.$cr.log("jsonback:"+e)}},checkSSO=async function(){try{var e=ckMap();let a=COLOMBIA_ID.search("%3A"),i=COLOMBIA_ID.search(":"),c=null;if(a&&i&&(c=COLOMBIA_ID.split("%3A").join("")),null!=e.get(window.$cr.sid)&&null!=e.get($cr.sid)){var t=e.get(window.$cr.sid);if(null==e.get(c)&&t){var n=new Map;n.set("val_102",window.$cr.dn),n.set("val_120",window.$cr.bsrc),n.set("val_126",t),n.set("val_122",window.$cr.gck());var r=window.$cr.url+"/message?cid="+COLOMBIA_ID+"&val_101="+COLOMBIA_ID+"&"+window.$cr.encodeUriParamValue(n);sendMessageUsingUrl(r,"JS")}}}catch(e){}},checkCentralSSO=function(){try{var e=window.$cr.ckMap(),t=COLOMBIA_ID.split(":").join("");if(null==e.get($cr.loginTrackCookie)&&null==e.get(t))try{window.$cr.jp.send($cr.getTicketUrl,{callbackName:"$cr.handleCentralSsoCallBack()",onSuccess:function(e){window.$cr.handleCentralSsoCallBack(e)},onTimeout:function(){},timeout:15})}catch(e){}}catch(e){}},handleCentralSSOCallback=function(e){try{if(null!=e.csut_cssec){var t=new Map;t.set("cid",COLOMBIA_ID),t.set("val_102",window.$cr.dn),t.set("val_120",window.$cr.bsrc),t.set("val_126",e.csut_cssec),t.set("val_101",COLOMBIA_ID),t.set("val_122",window.$cr.gck());var n=window.$cr.url+"/message?"+window.$cr.encodeUriParamValue(t);return void sendMessageUsingUrl(n,"JS")}if("true"==e.status&&""!=e.ticketId)return void window.$cr.jp.send($cr.validateTicketUrl+e.ticketId,{callbackName:"$cr.handleCentralSsoCallBack",onSuccess:function(e){window.$cr.handleCentralSsoCallBack(e)},onTimeout:function(){},timeout:15});window.$cr.cc($cr.loginTrackCookie,!1,.042)}catch(e){}},ckMap=function(){for(var e=new Map,t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n];e.set(r.substring(0,r.indexOf("=")).trim(),r.substring(r.indexOf("=")+1).trim())}return e},prepareJsonForParse=function(e){return e.replace(/\\"null\\"/g,null).match(/\[.*\]/)[0].replace(/\\"/g,'"')},ecodeUri=function(e){for(var t=Array.from(e.keys()),n="",r=t.length-1,a=0;a<r+1;a++){var i=t[a],c=e.get(i),o="";if(Array.isArray(c))for(var _=0;_<c.length;_++)o=encodeURIComponent(c[_]),n=_!=c.length-1?n+i+window.$cr.assignOp+o+window.$cr.ampersandOp:i==t[r]?n+i+window.$cr.assignOp+o:n+i+window.$cr.assignOp+o+window.$cr.ampersandOp;else o=encodeURIComponent(e.get(i)),n=i!=t[r]?n+i+window.$cr.assignOp+o+window.$cr.ampersandOp:n+i+window.$cr.assignOp+o}return n},tpslv=function(){var e="";try{e=null!=TPWidget.getPreLoginPoints()||void 0!==TPWidget.getPreLoginPoints()||"undefined"!=TPWidget.getPreLoginPoints()||""!=TPWidget.getPreLoginPoints()?"&val_101=pnt:"+TPWidget.getPreLoginPoints():""}catch(e){}try{if(tpwan=JSON.parse(localStorage.getItem("taffy_plt")),null!=tpwan||"undefined"!=typeof tpwan||"undefined"!=tpwan||""!=tpwan){for(v in aname=cdate="",tpwan)"undefined"!=tpwan[v].cdate&&"undefined"!=tpwan[v].aname&&(""==cdate?cdate=tpwan[v].cdate:cdate<tpwan[v].cdate?aname=tpwan[v].aname:cdate=tpwan[v].cdate);""!=aname&&null!=aname&&"undefined"!=aname&&(e=e+"&val_101=int:"+aname)}}catch(e){}""!=e&&window.$cr.TrgImgSrc(window.$cr.url+"/message?cid=2660%3A987&val_101=2660%3A987"+e+"&val_102="+window.$cr.dn+"&val_120="+window.$cr.bsrc+"&val_122="+window.$cr.gck())},gdpb=function(){for(var e=document.querySelectorAll("iframe[id^=google_ads_iframe]"),t=new Map,n=0;n<e.length;n++){var r=e[n],a=null;try{if(null==(a=r.contentDocument)||void 0===a)continue}catch(e){continue}r=a.querySelectorAll('a[href^="http://googleads.g.doubleclick.net/pcs/click"] , a[href^="https://googleads.g.doubleclick.net/pcs/click"]');for(var i=null,c=0;c<r.length;c++){var o=r[c].getAttribute("href"),_=o.indexOf("adedmpdxirsmeips");-1!=_&&(i=o.substring(_+16,o.length).split("&")[0].split("%26")[0].split("%3D")[1],i=parseInt(i).toString())}null!=i&&(t.set(a.body,i),a.body.onclick=function(e){null!=(e=t.get(this))&&(revReq=e.split("").reverse().join(""),e=window.$cr.url+"/message?cid="+COLOMBIA_ID+"&val_101="+COLOMBIA_ID+"&val_102="+window.$cr.dn+"&val_120="+window.$cr.bsrc+"&val_101=dfp:clk:"+revReq+"&val_122="+window.$cr.gck(),window.$cr.TrgImgSrc(e))})}},perpetualScroll=function(){let e=document.location.href,t=document.querySelector("body");new MutationObserver((function(t){t.forEach((function(t){if(e!=document.location.href){e=document.location.href;const t=pcnl();sendMessage({cid:COLOMBIA_ID,behaviour:!!t&&`int:${t}`,domain:e,deviceType:DEVICE_TYPE,uuidToken:!0,dsmi:!0,meta:!0,refree:!0,extra:`&val_101=${COLOMBIA_ID}`})}}))})).observe(t,{childList:!0,subtree:!0}),perpetualScrollObserverAttached=!0},utm=function(e,t,n){var r=[];if(0<e.indexOf("utm_")){e=e.substr(e.indexOf(t)+1).split(n);for(let n in e)0<=(t=e[n]).indexOf("utm_source")?r.push("utm:src:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_medium")?r.push("utm:med:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_campaign")?r.push("utm:camp:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_term")?r.push("utm:trm:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_content")?r.push("utm:con:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_contents")?r.push("utm:cons:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_contente")?r.push("utm:cone:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_chnnl=te")&&r.push("int:newsletter");if(""!=r[0])return r}return null},utmArray=function(e,t){return null!=document.location?utm(document.location.href,e,t):null},_getCookie=function(e){const t=document.cookie.split(";");for(let n in t){const[r,a]=t[n].toString().trim().split("=");if(e.trim()===r.trim())return a}return!1},getDomain=function(){return document.domain},setCookie=function(e){try{const{name:t,value:n,expiry:r}=e;if(t){let e,a,i,c=location.host.match(/([^.]+)\.\w{2,3}(?:\.\w{2})?$/);null==c&&(c=window.location.hostname.replace("www.","").split("."),c.length>2&&c.splice(0,1)),i=`${t}=${n};path=/;`,r&&(e=new Date,e.setTime((new Date).getTime()+864e5*r),e.toGMTString()),location.host.split(".").length>1&&c.length&&c[0]&&(a=c[0]),e&&(i+=`expires=${e};`),a&&(i+=`domain=${a};`),document.cookie=i+""}}catch(e){log("setCookie err: ",e)}};function getMetaKeywords(){return document.querySelectorAll("meta[name='keywords']").length&&document.querySelectorAll("meta[name='keywords']")[0].content?document.querySelectorAll("meta[name='keywords']")[0].content:null}const log=function(){},getProtocol=function(){return document.location.protocol},removeProtocol=function(e){return e.includes("http")&&(e=(e=e.replace("https://","")).replace("http://","")),e},getLocationHref=function(){const e=document.querySelector("link[rel='canonical']"),t=e?e.href:void 0,n=document.location.href;return t&&prevCanonicalPath&&t===prevCanonicalPath&&n===prevCanonicalPath?t:(prevCanonicalPath=t||n,n)};function pcnl(e){if(e||(e=getLocationHref()),(e=removeProtocol(e).replace("www.","")).includes("?")&&(e=e.split("?")[0]||null),e.includes("/")){let t=e.split("/");const n=t[t.length-1];(n.includes(".cms")||n.includes(".htm"))&&t.pop();for(let e in t){const n=t[e];if("function"!=typeof n&&n&&n.split("-").length>4){t=t.slice(0,e);break}}let r;return t.forEach(((e,n)=>{isNaN(parseInt(e))||t.splice(n,1)})),t=t.filter((e=>""!=e)),t.length>1?r=t.join("/"):1===t.length&&(r=t[0]),""!==r?r:null}}const getFPSFlag=async function(){try{if("cookieDeprecationLabel"in navigator){return await navigator.cookieDeprecationLabel.getValue()}}catch(e){}},sendMessageUsingUrl=async function(e,t="JS"){const n=_getCookie("dmpFPSTrack");navigator.permissions.query({name:"top-level-storage-access",requestedOrigin:window.$cr.url}).then((r=>{"granted"===r.state||n?fetchDataWithStorageAccess(e.replace(/'/g,"%27"),t):"prompt"===r.state&&emptyListeners(e.replace(/'/g,"%27"),t)})).catch((n=>{execErrFetch(e.replace(/'/g,"%27"),t)}))},getEmailMbileHash=()=>{const e=localStorage.getItem(_constants__WEBPACK_IMPORTED_MODULE_1__.LOCAL_STORAGE_KEY_FOR_EMH);if(e){return Math.abs((new Date).getTime()-e)>864e5&&(localStorage.setItem(_constants__WEBPACK_IMPORTED_MODULE_1__.LOCAL_STORAGE_KEY_FOR_EMH,(new Date).getTime()),!0)}return localStorage.setItem(_constants__WEBPACK_IMPORTED_MODULE_1__.LOCAL_STORAGE_KEY_FOR_EMH,(new Date).getTime()),!0},sendMessage=async function(e,t="JS"){let{cid:n,behaviour:r,domain:a,deviceType:i,uuidToken:c,metaTags:o,referrer:_,SSOCheck:s=!1,centralSSOCheck:l,dsmi:u=!0,meta:d,utmCheck:p=!0,extra:m,cdp_map:w,gtm:g=!1}=e;const f=await detectPrivateMode();let O=`?cid=${n}`;if(r&&(O+=`&val_101=${r}`),O+=a?`&val_102=${a}`:`&val_102=${document.location.href}`,null!=i&&null!=i&&(g&&(i=0==DEVICE_TYPE?"22":"23"),O+=`&val_120=${i}`),c){const e=_getCookie(UUID_COOKIE);e&&-1===e.indexOf("<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`=")&&(O+=`&val_122=${e}`)}if(o&&(O+=`&val_123=${o}`),_&&(_=getReferrer(),_&&(O+=`&val_124=${_}`)),f&&(O+="&val_125=1"),u){const e=_getCookie(CCDS_COOKIE);e&&(O+=`&dsmi=${e}`)}let v=_getCookie(OPT_OUT_COOKIE);if("0"!==v&&"1"!==v||(v=parseInt(v)),0===v&&(O+="&optout=0"),!o&&d){getMetaKeywords()&&(O+=`&val_123=${getMetaKeywords()}`)}let h=window.location.href.split("/"),b=h.length;if(b>1&&("topic"==h[b-2]||"topics"==h[b-2])&&(O+=`&val_101=ua:search:${h[b-1]}`),m&&(O+=m),localStorageKeyForPrimeUser){const e=(JSON.parse(localStorage.getItem(localStorageKeyForPrimeUser))||{}).userType;e&&(COLOMBIA_ID.includes(":")?O+=`&val_101=ua:userType:${COLOMBIA_ID.split(":")[0]}-${COLOMBIA_ID.split(":")[1]}-${e}`:COLOMBIA_ID.includes("%3A")&&(O+=`&val_101=ua:userType:${COLOMBIA_ID.split("%3A")[0]}-${COLOMBIA_ID.split("%3A")[1]}-${e}`))}if(p){const e=utmArray("?","&");if(e&&""!=e[0]&&e.length>=1)for(let t in e)O+=`&val_101=${e[t]}`}emailMobileHash&&getEmailMbileHash()&&(O+="&emh=1");const E=await getFPSFlag();E&&E.length>0&&(O+=`&val_101=fps:${E}`,O+="&val_101=fps:enabled"),w&&(O+=`&cdp_map=${encodeURI(JSON.stringify(w))}`);let k=window.$cr.url+"/message"+O;const I=Object(_utils_duplicateEventHandling__WEBPACK_IMPORTED_MODULE_4__.deDuplicateHandling)(k,expiryDurationInMs);if(I.flag)return;k=I.src;const C=_getCookie("dmpFPSTrack");navigator.permissions.query({name:"top-level-storage-access",requestedOrigin:window.$cr.url}).then((e=>{"granted"===e.state||C?fetchDataWithStorageAccess(k.replace(/'/g,"%27"),t):"prompt"===e.state&&emptyListeners(k.replace(/'/g,"%27"),t)})).catch((e=>{execErrFetch(k.replace(/'/g,"%27"),t)}))};async function fetchDataWithStorageAccess(e,t){if("requestStorageAccessFor"in document){const n=new URL(e).origin;document.requestStorageAccessFor(n+"/").then((()=>{fetch(e,{method:"GET",credentials:"include"}).then((e=>e.text())).then((n=>{e.includes("/message")?"JS"===t&&processResponse(n):createScript(n)})).catch((e=>{}))})).catch((n=>{execErrFetch(e,t)}))}else execErrFetch(e,t)}const execErrFetch=async function(e,t="JS"){fetch(e,{method:"GET",credentials:"include"}).then((e=>e.text())).then((n=>{e.toLowerCase().includes("/message")?"JS"===t&&processResponse(n):createScript(n)})).catch((e=>{}))},checkReferrer=function(){return!(!document.referrer||document.referrer.match(/:\/\/(.[^/]+)/)[1]!==document.location.href.match(/:\/\/(.[^/]+)/)[1])},getReferrer=function(){if(null!=document.referrer&&""!=document.referrer){if(document.location.href.match(/:\/\/(.[^/]+)/)[1]!==document.referrer.match(/:\/\/(.[^/]+)/)[1])return document.referrer}return!1},detectBrowser=function(){return-1!=(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?"Opera":-1!=navigator.userAgent.indexOf("Chrome")||"Google Inc."===navigator.vendor?"Chrome":-1!=navigator.userAgent.indexOf("Safari")||"Apple Computer, Inc."===navigator.vendor?"Safari":-1!=navigator.userAgent.indexOf("Firefox")?"Firefox":-1!=navigator.userAgent.indexOf("MSIE")||1==!!document.documentMode?"Edge":"Unknown"},detectPrivateMode=async function(){switch(detectBrowser()){case"Edge":window.indexedDB||(window.$cr.isPrivateMode=!0);break;case"Firefox":await new Promise(((e,t)=>{window.indexedDB||(window.$cr.isPrivateMode=!0);const n=indexedDB.open("test");n.onerror=t=>{window.$cr.isPrivateMode=!0,e()},n.onsuccess=t=>{window.$cr.isPrivateMode=!1,e()}}));break;case"msie":default:null==!window.indexedDB&&(window.$cr.isPrivateMode=!0);break;case"Chrome":if("storage"in navigator&&"estimate"in navigator.storage&&"memory"in performance){const{usage:e,quota:t}=await navigator.storage.estimate();t<=performance.memory.jsHeapSizeLimit&&(window.$cr.isPrivateMode=!0)}break;case"Safari":const e=navigator.userAgent.match(/Version\/([0-9\._]+).*Safari/);if(parseInt(e[1],10)<12)try{localStorage.length||(localStorage.x=1,localStorage.removeItem("x")),window.$cr.isPrivateMode=!1}catch(e){navigator.cookieEnabled?window.$cr.isPrivateMode=!0:window.$cr.isPrivateMode=!1}else try{window.safari.pushNotification.requestPermission("https://test-toi.com","private",{},(function(){}))}catch(e){e.toString().includes("disabled")?window.$cr.isPrivateMode=!0:window.$cr.isPrivateMode=!1}}return window.$cr.isPrivateMode&&setCookie({name:INCG_COOKIE,value:1,expiry:1}),window.$cr.isPrivateMode},createScript=function(e){const t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.innerHtml=e,n.id="dmp_check";t.appendChild(n)},sendTimesPointData=function(e){try{if("object"==typeof e&&2===Object.keys(e).length){const{points:t,isUserLoggedIn:n}=e;if(n){switch(behaviour="pnt:login:tp",t){case 0:case t>0&&t<=20:behaviour+=":1-20";break;case t>20&&t<=50:behaviour+=":21-50";break;case t>50&&t<=100:behaviour+=":51-20";break;case t>100&&t<=500:behaviour+=":101-500";break;case t>500&&t<=1e3:behaviour+=":501-1000";break;case t>1e3&&t<=1500:behaviour+=":1001-1500";break;case t>1500&&t<=2e3:behaviour+=":1501-2000";break;case t>2e3:behaviour+=":2000+"}sendMessage({cid:COLOMBIA_ID,behaviour:behaviour,deviceType:DEVICE_TYPE,uuidToken:!0,extra:`val_101=${COLOMBIA_ID}`},"PX")}}}catch(e){log("tpsl Error: ",e)}},_addEvent=function(e,t,n,r,a=-1,i=null){try{switch(i&&i.addEventListener(n,(function(e){r(e)})),e){case"class":const e=document.getElementsByClassName(t);if(a>-1){e[a].addEventListener(n,(function(e){r(e)}))}else for(const t in e)if(!isNaN(parseInt(t))){e[t].addEventListener(n,(function(e){r(e)}))}break;case"id":document.getElementById(t).addEventListener(n,(function(e){alert("clicked"),r(e)}))}}catch(e){}},getSharePlatform=function(e){let t="link";for(const[n,r]of Object.entries(_constants__WEBPACK_IMPORTED_MODULE_1__.SOCIAL_PLATFORMS_NAMES))if(e.toLowerCase().indexOf(n.toLowerCase())>-1||n.toLowerCase().indexOf(e.toLowerCase())>-1){t=r;break}return t},getHTMLElements=function(e){let t=[];const{eventElement:n,eventAttribute:r,eventAttributeValues:a}=e;if(Array.isArray(a))Array.isArray(n)?a.forEach(((e,a)=>{let i=[];"class"===r?(i=document.querySelectorAll(`${e}`),0===i.length&&(i=document.querySelectorAll(`${n||""}[${r}*='${e}'`))):i=document.querySelectorAll(`${n[a]?n[a]:""}[${r[a]}*='${e}'`),t=[...t,...i]})):a.forEach((e=>{let a=[];"class"===r?(a=document.querySelectorAll(`${e}`),0===a.length&&(a=document.querySelectorAll(`${n||""}[${r}*='${e}'`))):a=document.querySelectorAll(`${n||""}[${r}*='${e}'`),t=[...t,...a]}));else{let e=[];"class"===r?(e=document.querySelectorAll(`${a}`),0===e.length&&(e=document.querySelectorAll(`${n||""}[${r}*='${eventAttributeValue}'`))):e=document.querySelectorAll(`${n||""}[${r}*='${a}'`),t=[...t,...e]}return t},addEvent=function(e){try{const{eventType:t,eventElement:n,eventAttribute:r,eventAttributeValues:a,eventBehaviorValueAttribute:i,eventBehaviorValueElement:c,behaviorPrefix:o,behaviorValueAttribute:_=null}=e;let s=[];s=getHTMLElements({eventElement:n,eventAttribute:r,eventAttributeValues:a});let l=pcnl();l&&l.indexOf("/")>-1?(l=l.split("/"),l.splice(0,1),l=l.join("/")):l="",s&&s.length>0&&s.forEach((e=>{e&&e.addEventListener(t,(function(t){const n=o.join(":");let r="",a=null;i&&null==_?r=getSharePlatform(e.getAttribute(i)):"id"==i&&"value"==_&&(a=document.getElementById(c).value);let s=null;if(a)s=n+":"+a;else{s=n+":"+r+(l?`:${l}`:"")}sendMessage({cid:COLOMBIA_ID,behaviour:s,deviceType:DEVICE_TYPE,uuidToken:!0,extra:`&val_101=${COLOMBIA_ID}`},"PX")}))}))}catch(e){}},addAction=function(e,t=0,n){let r=[];if(t===e.length){const{delay:e,description:t,eventType:r,eventElement:a,eventAttribute:i,eventAttributeValues:c}=n;setTimeout((()=>{addEvent(n)}),e)}else{const{description:a,actionElement:i,actionAttribute:c,actionAttributeValues:o,actionType:_}=e[t];r=getHTMLElements({eventElement:i,eventAttribute:c,eventAttributeValues:o}),r.forEach((r=>{r.addEventListener(_,(function(r){setTimeout((()=>{addAction(e,t+1,n)}),750)}))}))}},addFormListener=function(e){try{const{eventType:t,eventElements:n,eventAttributes:r,eventAttributeValues:a,behaviorPrefix:i,submitElement:c,submitElementAttribute:o,submitElementAttributeValue:_}=e;let s=[];s=getHTMLElements({eventElement:c,eventAttribute:o,eventAttributeValues:_}),s&&s.length>0&&s.forEach(((e,c)=>{e.addEventListener(t,(function(e){n&&n.length>0&&n.forEach(((e,t)=>{const n=i[t];let c="invalid";if("input"===e)"id"===r[t]?c=document.getElementById(a[t]).value:r[t];else if("select"===e)if("id"===r[t]){let e=document.getElementById(a[t]);c=e.options[e.selectedIndex].text}else r[t];sendMessage({cid:COLOMBIA_ID,behaviour:n+":"+c,deviceType:DEVICE_TYPE,uuidToken:!0,extra:`&val_101=${COLOMBIA_ID}`},"JS")}))}))}))}catch(e){}},getAPI=function(e){const t=getProtocol(),n=getDomain();return"m360"===e?`${t}//${n}${_constants_api__WEBPACK_IMPORTED_MODULE_0__.M360_API_ROUTE}`:`${t}//${_constants_api__WEBPACK_IMPORTED_MODULE_0__.API_URL}`},sendSubscriberEmailId=function(e=!1,t=!1,n=!1,r=!1){let a,i,c="https://"+_constants_api__WEBPACK_IMPORTED_MODULE_0__.ADE_URL_EMAIL;e&&(a=document.getElementsByName(e)),t&&(a=document.getElementsByClassName(t)[0]),t&&n&&(a=document.getElementsByClassName(t)[0].getElementsByTagName(n)[0]),r&&(a=[document.getElementById(r)]),a&&a.length&&(i=a[0].value,i.length&&(c=c.replace("<encoded-email>",i),(new Image).src=c))},trackSocialShare=function(e,t,n){if(e.indexOf(n.srcElement.className)>-1){let e=pcnl();if(e&&e.indexOf("/")>-1){e=e.split("/"),e.splice(0,1),e=e.join("/");const r="Ua:share:"+n.srcElement.classList[t]+":"+e;sendMessage({cid:COLOMBIA_ID,behaviour:r,deviceType:DEVICE_TYPE,uuidToken:!0,extra:`&val_101=${COLOMBIA_ID}`},"PX")}}},syncUUID=function(){const e=window.colpad;let t;if(t=_getCookie(UUID_COOKIE),e&&e.toString().startsWith("1~")&&t&&!t.toString().startsWith("1~")){const n=getProtocol();let r=`${_constants_api__WEBPACK_IMPORTED_MODULE_0__.ADE_URL_SYNC}?pid=${e}&sid=${t}`;(new Image).src=`${n}//${r}`,setCookie({name:UUID_COOKIE,value:e})}if(e&&e.toString().startsWith("1~")&&t.toString().startsWith("1~")&&e!==t){const n=getProtocol();let r=`${_constants_api__WEBPACK_IMPORTED_MODULE_0__.ADE_URL_SYNC}?pid=${e}&sid=${t}`;(new Image).src=`${n}//${r}`,setCookie({name:UUID_COOKIE,value:e})}},isMobile=function(){return/iphone|ipad|ipod|android|blackberry|mini|iemobile|sce|palm|webOS|Opera Mini/i.test(navigator.userAgent.toLowerCase())},extMsz=function(e){var t,n;try{if(""!=e&&"undefined"!=e){if(""!=e.age&&"undefined"!=e.age&&"na"!=e.age&&"NA"!=e.age){t=e.age.trim();var r="",a="",i="",c=new Date;if(n="","undefined"!=t&&""!=t){r=parseInt(t.split("-")[0]),a=parseInt(t.split("-")[1]),i=Math.floor(r+(a-r)/2);var o=c.getFullYear()-i;n=c.getDate()+"/"+(c.getMonth()+1)+"/"+o}}genderAgeCheck(e,n)}}catch(e){}},genderAgeCheck=function(e,t){var n;"undefined"!=e.val_101&&"na"!=e.val_101&&"NA"!=e.val_101&&(n=e.val_101);for(var r="",a=[],i=0;i<n.length;i++)a.push("&val_101="+n[i]);n.length>0&&"undefined"!=t&&""!=t?r=window.$cr.url+"/message?cid="+COLOMBIA_ID+"&val_101="+COLOMBIA_ID+a.join("")+"&val_101=dob:"+t+"&val_102="+window.$cr.dn+"&val_120="+window.$cr.bsrc:"undefined"!=t&&""!=t?r=window.$cr.url+"/message?cid="+COLOMBIA_ID+"&val_101="+COLOMBIA_ID+"&val_101=dob:"+t+"&val_102="+window.$cr.dn+"&val_120="+window.$cr.bsrc:n.length>0&&(r=window.$cr.url+"/message?cid="+COLOMBIA_ID+"&val_101="+COLOMBIA_ID+a.join("")+"&val_102="+window.$cr.dn+"&val_120="+window.$cr.bsrc),window.$cr.TrgImgSrc(r)},crrmob=function(){var e={run:function(){if(isMobile()&&!_getCookie(OPT_OUT_COOKIE)){var e={mvJSUrl:"https://static.clmbtech.com/ase/mv/mobver.js",cid:$cr.cid},t={performMV:function(){mobver("init",e.cid)},loadMvJS:function(){var t,n,r,a,i;t=window,n=document,r=e.mvJSUrl,t.mobver=t.mobver||function(){(t.mobver.q=t.mobver.q||[]).push(arguments)},a=n.getElementsByTagName("head")[0],(i=n.createElement("script")).async=1,i.src=r,a.appendChild(i)},initiateMV:function(){t.loadMvJS(),t.performMV()}};t.initiateMV()}}};return e},generateTUUID=function(){try{return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(new Date).getTime()+crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}catch(e){}},checkOneIdMap=function(res){try{var r="undefined"==typeof JSON?eval(response):JSON.parse(res);if(null!=r[0].store&&r[0].store,null!=r[0].store&&"true"==r[0].store){const e=new Date;e.setFullYear(e.getFullYear()+1),setCookie({name:"_one_uuid_mapped",value:"true",expiry:e.toGMTString()})}}catch(e){}},checkOneId=function(){try{if(!_getCookie("_one_uuid")){const e=generateTUUID(),t=new Date;t.setFullYear(t.getFullYear()+10),setCookie({name:"_one_uuid",value:e,expiry:t.toGMTString()}),setCookie({name:"_one_uuid_mapped",value:"false",expiry:t.toGMTString()})}}catch(e){}},sendCDPData=async function(e){const t=pcnl(),n=DEVICE_TYPE;let r=`?cid=${COLOMBIA_ID}&val_101=${!!t&&`int:${t}`}&val_102=${document.location.href}&val_120=${n}`;const a=_getCookie(UUID_COOKIE);a&&-1===a.indexOf("<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`=")&&(r+=`&val_122=${a}`);const i=_getCookie(CCDS_COOKIE);i&&(r+=`&dmsi=${i}`),r+=`&val_101=${COLOMBIA_ID}`;const c=`${getProtocol()}//${_constants_api__WEBPACK_IMPORTED_MODULE_0__.API_URL}/savecdpdata`+r;let o=JSON.stringify(e);try{fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:o})}catch(e){}},exec=async function(e){try{let t=!1;const{runPointExtractor:n=!1,runGdpb:r=!1,gtm:a=!1,gtmEvents:i,gtmEventFilters:c,SSOCheck:o=!1,appToMwebSync:_=!1,custom:s=!1,centralSSOCheck:l=!1,$cr:u=window.$cr,utmCheck:d=!0,pcr:p=!1,pageDuration:m=!1,checkFrequency:w,prefix:g="int",articleClass:f,localStorageKeyForPrimeUserIdentification:O,captureTimeAndScroll:v,DurationBetweenSimilarEvents:h,emh:b}=e;if(arClass=f,captureTimeScroll=v,localStorageKeyForPrimeUser=O,GTMEvents=i,GTMEventFilters=c,h&&(expiryDurationInMs=h),b&&(emailMobileHash=b),w&&w.enable){w.paths.forEach((e=>{document.location.href.indexOf(e)>-1&&(t=!0)}));const e=localStorage.getItem(_constants__WEBPACK_IMPORTED_MODULE_1__.DMP_LAST_MESSAGE_TIME);if(e){Math.abs((new Date).getTime()-e)/36e5>w.duration&&(localStorage.setItem(_constants__WEBPACK_IMPORTED_MODULE_1__.DMP_LAST_MESSAGE_TIME,(new Date).getTime()),t=!1)}else localStorage.setItem(_constants__WEBPACK_IMPORTED_MODULE_1__.DMP_LAST_MESSAGE_TIME,(new Date).getTime())}if(t)return;const E=pcnl(),k=!!E&&`${g}:${E}`;if(_&&isMobile()&&syncUUID(),perpetualScrollObserverAttached||perpetualScroll(),n&&pointExtractor(),r&&gdpb(),o&&(window.addEventListener("locationchange",(function(){checkSSO()})),window.addEventListener("hashchange",(function(){checkSSO()})),checkSSO()),l&&(window.addEventListener("locationchange",(function(){checkCentralSSO()})),window.addEventListener("hashchange",(function(){checkCentralSSO()})),checkCentralSSO()),m&&await Object(_fn_userMetric__WEBPACK_IMPORTED_MODULE_5__.logDuration)(),a&&Object(_utils_dataCaptureUsingGTM__WEBPACK_IMPORTED_MODULE_3__.trackGTM)(i,c,_getCookie,sendMessage),s&&s(),captureTimeScroll){const e=getMetaKeywords();Object(_utils_time_scroll_capture__WEBPACK_IMPORTED_MODULE_2__.captureActiveTimeAndScroll)(arClass,k,e,sendMessage),Object(_utils_time_scroll_capture__WEBPACK_IMPORTED_MODULE_2__.sendTabClosedData)(sendMessage)}a||await sendMessage({cid:COLOMBIA_ID,behaviour:k,deviceType:DEVICE_TYPE,uuidToken:!0,dsmi:!0,meta:!0,referrer:!0,extra:`&val_101=${COLOMBIA_ID}`,utmCheck:d,SSOCheck:o,centralSSOCheck:l})}catch(e){}};window.dfpPush=function(e,t){sendMessage({cid:COLOMBIA_ID,behaviour:e+":"+t,deviceType:DEVICE_TYPE,uuidToken:!0})},window.dfpPushMultiple=function(e,t,n){let r="",a="";e.forEach((e=>{r+=`&val_101=${e.eventType}:${e.eventValue}`})),n&&(a+=`&val_131=${n}`),t&&(a+=`&val_130=${t}`),r=r.slice(9),sendMessage({cid:COLOMBIA_ID,behaviour:r,deviceType:DEVICE_TYPE,uuidToken:!0,extra:a})}},function(e,t,n){"use strict";n.r(t),n.d(t,"ROOT",(function(){return r})),n.d(t,"CONFIG_PATH",(function(){return a})),n.d(t,"MOBILE",(function(){return i})),n.d(t,"MWEB",(function(){return c})),n.d(t,"WEB",(function(){return o})),n.d(t,"SOCIAL_PLATFORMS_NAMES",(function(){return _})),n.d(t,"OPT_OUT_COOKIE",(function(){return s})),n.d(t,"UUID_COOKIE",(function(){return l})),n.d(t,"CCDS_COOKIE",(function(){return u})),n.d(t,"INCG_COOKIE",(function(){return d})),n.d(t,"LOGIN_TRACK_COOKIE",(function(){return p})),n.d(t,"SSOID_COOKIE",(function(){return m})),n.d(t,"DMP_LAST_MESSAGE_TIME",(function(){return w})),n.d(t,"LOCAL_STORAGE_KEY_FOR_EMH",(function(){return g})),n.d(t,"BEHAVIORS",(function(){return f})),n.d(t,"DEFAULT_IMPORTS_FN",(function(){return O})),n.d(t,"DEFAULT_IMPORTS_CONSTANTS",(function(){return v})),n.d(t,"DEFAULT_IMPORTS_API",(function(){return h}));const r="./../src/",a=r+"config/client",i=0,c=0,o=0,_={facebook:"FB",fb:"FB",twitter:"TW",twt:"TW",tw:"TW",linkedin:"LN",li:"LN",ln:"LN",in:"LN",wa:"WA",whatsapp:"WA",email:"EM",direct:"DR",shareSheet:"SS",youtube:"YT",rss:"RSS",pinterest:"PN",pin:"PN",pn:"PN",telegram:"TG",tele:"TG"},s="optout",l="_col_uuid",u="_col_ccds",d="incg",p="_col_secure",m="csut",w="dmp_last_msg_time",g="dmp_emh",f={int:"",ua:"",cp:"",age:"",gender:"",ct:"",vendor:"",os:"",device:"",geoloc:"",browser:"",utran:"",ast:"",dob:"",installed:"",uninstalled:"",updated:"",ctrt:"",crm:"",plat:"",clk:"",topapp:"",openapp:"",login:"",logout:"",adblock:"",uasrc:"",utm:"",tel:"",eml:"",srch:"",srp:"",se:"",sns:"",dfp:"",gc:"",im:"",cvop:"",pdp:"",pnt:"",mtag:"",verinstalled:"",verupdated:"",dfpcmp:"",sub:"",can:"",gpd:"",isp:"",nwp:"",nwt:"",demo:""},O=["exec","_getCookie","setCookie","getMetaKeywords","log","pcnl","getReferrer","getAPI","processResponse","ckMap","ecodeUri","isMobile","addEvent","addAction","addFormListener","genderAgeCheck","getLocationHref"],v=["SOCIAL_PLATFORMS_NAMES","OPT_OUT_COOKIE","UUID_COOKIE","CCDS_COOKIE","INCG_COOKIE","LOGIN_TRACK_COOKIE","DMP_LAST_MESSAGE_TIME"],h=["API_URL","ADE_URL_SYNC","ADE_URL_EMAIL","M360_API_ROUTE"]},function(e,t,n){"use strict";n.r(t),n.d(t,"API_URL",(function(){return r})),n.d(t,"ADE_URL_SYNC",(function(){return a})),n.d(t,"ADE_URL_EMAIL",(function(){return i})),n.d(t,"M360_API_ROUTE",(function(){return c}));const r="ase.clmbtech.com",a="ade.clmbtech.com/uid/syncIds.htm",i="ade.clmbtech.com/uid/subscribe?cid=<encoded-email>&pid=",c="/aud/message"},function(e,t,n){"use strict";n.r(t),n.d(t,"logDuration",(function(){return o}));let r,a,i=new Date;const c=()=>{i=new Date},o=async()=>{addEventListener("DOMContentLoaded",c),addEventListener("pagehide",(()=>{r=new Date,a=Math.ceil(Math.abs(r.getTime()-i.getTime())/1e3);let e=`?cid=${COLOMBIA_ID}`;e+=`&val_101=${`um:dur:${a}`}`,e+=`&val_101=${COLOMBIA_ID}`;const t=window.$cr.url+e;(new Image).src=t}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"captureActiveTimeAndScroll",(function(){return r})),n.d(t,"sendTabClosedData",(function(){return a}));const r=async(e,t,n,r)=>{let a=new Date,i=0,c=0,o=window.location.href,_=null;const s=()=>{if(!a)return;const e=new Date-a;i+=Math.min(e,12e4),a=null},l=()=>{if(!a)return;const e=new Date,t=e-a;i+=Math.min(t,12e4),a=e};document.addEventListener("scroll",((t=null)=>{e||(e="");let n=e?document.querySelectorAll(`[id^="${e}"], [class^="${e}"]`):[],r=Array.from(n).find(a);function a(e){let t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;return t.top<=n/2&&t.bottom>=n/2}if(r)if(null!=r&&null==_&&(_=r),window.scrollY>=r.offsetTop&&a(r)){let e=r.getBoundingClientRect(),t=(window.scrollY-r.offsetTop)/(e.bottom-e.top)*100;t=Math.min(t.toFixed(2),100),null!=_&&_.outerHTML!=r.outerHTML&&(_=r,c=0),c=Math.max(c,t)}else null!=_&&window.location.href!=o&&(c=0);else{let e=window.scrollY/(document.body.scrollHeight-window.innerHeight)*100;c=Math.max(c,e)}}));const u=(e=!1,o=!1)=>{s(),a=new Date;let _=`&val_101=${COLOMBIA_ID}&val_101=ua:time_spent:${Math.round(i/1e3)}`;if((()=>{let e=!1;if("2308:4"==COLOMBIA_ID.trim()){let t=document.getElementsByClassName("prime_paywall");const n=Array.from(t).filter((e=>e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0));n&&n.length>0&&(e=!0)}else if("2658:3"==COLOMBIA_ID.trim()){let t=document.getElementById("story-blocker-new");t&&(t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0)&&(e=!0)}return e})()||(_+=`&val_101=ua:scroll:${(e?100:Math.min(100,c)).toFixed(2)}`),o){let e=JSON.parse(localStorage.getItem("dmp_pr"))||[];e.push({cid:COLOMBIA_ID,behaviour:t,deviceType:DEVICE_TYPE,uuidToken:!0,domain:document.location.href,meta:!1,metaTags:n,refree:!0,SSOCheck:!1,extra:_}),localStorage.setItem("dmp_pr",JSON.stringify(e))}else r({cid:COLOMBIA_ID,behaviour:t,deviceType:DEVICE_TYPE,uuidToken:!0,domain:document.location.href,meta:!0,refree:!0,SSOCheck:!1,extra:_});i=0};var d,p;document.addEventListener("mousemove",l),document.addEventListener("keydown",l),document.addEventListener("scroll",l),document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState?a=new Date:a&&s()})),window.addEventListener("pagehide",(()=>{u(!1,!0)})),d=window.history,p=d.pushState,d.pushState=function(e){return u(!0),"function"==typeof d.onpushstate&&d.onpushstate({state:e}),p.apply(d,arguments)}},a=e=>{(JSON.parse(localStorage.getItem("dmp_pr"))||[]).map((t=>{e(t)})),localStorage.removeItem("dmp_pr")}},function(e,t,n){"use strict";n.r(t),n.d(t,"domParser",(function(){return o})),n.d(t,"getValueFromDataLayer",(function(){return _})),n.d(t,"trackGTM",(function(){return l}));let r="",a=[],i=[],c="";const o=function(e){try{const e=[],t=[],n=document.documentElement.innerHTML.toString(),r=/GTM-([A-Z0-9]+)/gim;let a;for(;null!==(a=r.exec(n));)a.index===r.lastIndex&&r.lastIndex++,a.forEach(((t,n)=>{t.includes("GTM")&&!e.includes(t)&&e.push(t)}));const i=/UA-([-a-zA-Z0-9]+)/gim;let c;for(;null!==(c=i.exec(n));)c.index===i.lastIndex&&i.lastIndex++,c.forEach(((e,n)=>{e.includes("UA")&&!t.includes(e)&&t.push(e)}));return{gtm:e,ua:t}}catch(e){}},_=function(e,t){for(let n=e.length-1;n>=0;n--)if(t in e[n]&&e[n][t])return e[n][t];return""};async function s(){var e={apply:async function(e,t,n){const o=Reflect.apply(e,t,n);return async function(e){"event_category"in e[0]&&e[0].event_category.includes("Save Article")&&!e[0].event_category.includes("UnSave Article")&&l(a,i,c,r)}(n),o}};window.dataLayer.push=new Proxy(window.dataLayer.push,e)}const l=function(e,t,n,l){try{r=l,a=e,i=t,c=n;o();if(window.dataLayer&&window.dataLayer.length){const e=window.dataLayer;let r,a=[];e.forEach(((e,n)=>{r=Object.keys(e).filter((e=>t.indexOf(e)>=0)).reduce(((t,n)=>Object.assign(t,{[n]:e[n]})),{}),a.push(r)})),a=a.filter((e=>Object.keys(e).length>0));const i=n("_ga");let c={email:_(a,"email"),site_section:_(a,"site_section"),site_sub_section:_(a,"site_sub_section"),page_template:_(a,"page_template"),url:_(a,"url"),event_action:_(a,"event_action"),event_category:_(a,"event_category"),event_label:_(a,"event_label"),pageTitle:_(a,"pageTitle"),logged_in:_(a,"logged_in"),current_subscriber_status:_(a,"current_subscriber_status"),daily_article_count:_(a,"daily_article_count"),monthly_article_count:_(a,"monthly_article_count"),tags_meta_keyword:_(a,"tags_meta_keyword"),first_name:_(a,"first_name"),last_name:_(a,"last_name")},o="",u="";c.site_section.length>1&&(u+=`&val_101=int:sxn:${c.site_section}`),c.site_sub_section.length>1&&(u+=`&val_101=int:sxn:${c.site_sub_section}`),c.page_template.length>1&&(c.page_template.includes("slideshow")?u+=`&val_101=int:pic:sxn:${c.page_template}`:c.page_template.includes("videoshow")?u+=`&val_101=ua:vid:sxn:${c.page_template}`:u+=`&val_101=int:sxn:${c.page_template}`),c.url.length>1&&(u+=`&val_101=url:${c.url}`),c.pageTitle.length>1&&(u+=`&val_101=int:pagetitle:${encodeURIComponent(c.pageTitle)}`),c.first_name.length>1&&(u+=`&val_101=name:${c.first_name}`,c.last_name.length>1&&(u+=`${c.last_name}`)),c.logged_in.length>0&&(u+=`&val_101=login:${c.logged_in}`),c.current_subscriber_status.length>0&&(u+=`&val_101=ua:usrtyp:${c.current_subscriber_status}`),"number"==typeof c.daily_article_count&&c.daily_article_count>0&&(c.daily_article_count<=3?u+="&val_101=ua:dailyarcount:1-3":c.daily_article_count<=6?u+="&val_101=ua:dailyarcount:4-6":c.daily_article_count<=10?u+="&val_101=ua:dailyarcount:7-10":u+="&val_101=ua:dailyarcount:"+encodeURIComponent("11 & above")),"number"==typeof c.monthly_article_count&&c.monthly_article_count>0&&(c.monthly_article_count<=10?u+="&val_101=ua:monthlyarcount:1-10":c.monthly_article_count<=20?u+="&val_101=ua:monthlyarcount:11-20":c.monthly_article_count<=30?u+="&val_101=ua:monthlyarcount:21-30":c.monthly_article_count<=50?u+="&val_101=ua:monthlyarcount:31-50":u+="&val_101=ua:monthlyarcount:"+encodeURIComponent("51 & above")),c.email.length&&c.email.includes("@")&&(u+=`&val_130=${c.email}`),c.tags_meta_keyword.length>1&&(u+=`&val_123=mtag:${c.tags_meta_keyword}`),c.event_category.includes("Save Article")&&!c.event_category.includes("UnSave Article")&&(u+=`&val_101=ua:bkm:${c.event_label}`),u+=`&val_101=${COLOMBIA_ID}`,i&&(u+=`&_ga=${i}`),l({cid:COLOMBIA_ID,behaviour:o,deviceType:DEVICE_TYPE,uuidToken:!0,extra:u,gtm:!0}),s()}}catch(e){}}},function(e,t,n){"use strict";n.r(t),n.d(t,"deDuplicateHandling",(function(){return r}));const r=(e,t)=>{let n=!0,r=JSON.parse(localStorage.getItem("dmp_lmo"))||{},a=null,i=null;const c=e.split("&");let o="";for(let e=0;e<c.length;e++)c[e].startsWith("val_101=ua:time_spent:")?a=c[e].split("val_101=ua:time_spent:")[1]:c[e].startsWith("val_101=ua:scroll:")?i=c[e].split("val_101=ua:scroll:")[1]:o+="&"+c[e];o.length>=1&&(o=o.slice(1));try{null!=a&&(a=parseInt(a)),null!=i&&(i=parseFloat(i))}catch(e){}const _=(new Date).getTime();r=Object.fromEntries(Object.entries(r).filter((([e,t])=>t.expiry>_)));let s={};s.time_spent=a,s.scroll=i;let l={...s},u=_+t;return r[o]?(u=r[o].expiry,l=r[o].activity):n=!1,(null==l.time_spent&&null!=a||l.time_spent<a)&&(l.time_spent=a,u=_+t,n=!1),(null==l.scroll&&null!=i||l.scroll<i)&&(l.scroll=i,u=_+t,n=!1),r[o]={activity:l,expiry:u},localStorage.setItem("dmp_lmo",JSON.stringify(r)),n||(null!=a&&(o+=`&val_101=ua:time_spent:${a}`),null!=i&&(o+=`&val_101=ua:scroll:${i}`)),{src:o,flag:n}}},function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),i=(n(3),n(1));window.COLOMBIA_ID=Object(a.isMobile)()?"2658:39":"2658:3",window.DEVICE_TYPE=Object(a.isMobile)()?"8":"0",window.SID="csut",window.DOMAIN=document.domain,window.$cr={},window.$crr={url:Object(a.getAPI)(),getCookieOt:a._getCookie,setCookieOt:a.setCookie,act:function(e){window.$cr={}},run:function(){try{parseInt(Object(a._getCookie)(i.OPT_OUT_COOKIE))||(window.$cr.bsrc=DEVICE_TYPE,window.$cr.cid=COLOMBIA_ID,window.$cr.ckname=i.UUID_COOKIE,window.$cr.ccdsck=i.CCDS_COOKIE,window.$cr.dn=a.DOMAIN,window.$cr.adeurl=r.ADE_URL_EMAIL,window.$cr.url=Object(a.getAPI)(),window.$cr.sid=SID,window.$cr.assignOp="=",window.$cr.ampersandOp="&",window.$cr.isPrivateMode=!1,window.$cr.getTicketUrl="https://jsso.indiatimes.com/sso/crossdomain/getTicket?version=v1&callback=window.$cr.handleCentralSsoCallBack",window.$cr.validateTicketUrl="https://jsso.indiatimes.com/sso/crossdomain/v1validateTicket?channel=idiva&callback=window.$cr.handleCentralSsoCallBack&ticketId=",window.$cr.loginTrackCookie=i.LOGIN_TRACK_COOKIE,window.$cr.getPthtPO=a.getLocationHref,window.$cr.cnl=function(e,t,n,r){return Object(a.pcnl)(e)},window.$cr.refURL=function(){const e=Object(a.getReferrer)();if(e)return"&val_124="+e},window.$cr.pcnl=function(e,t,n,r,i){return Object(a.pcnl)(e)},window.$cr.TrgImgSrc=function(e){try{let t=e;Object(a._getCookie)(i.INCG_COOKIE)&&(t+="&val_125=1"),(new Image).src=t}catch(e){}},window.$cr.gccds=function(){const e=Object(a._getCookie)(i.CCDS_COOKIE);if(e)return`&dmsi=${e}`},window.$cr.gck=function(){return Object(a._getCookie)(i.UUID_COOKIE)},window.$cr.cc=function(e,t,n){Object(a.setCookie)({name:e,value:t,expiry:n})},window.$cr.log=function(e){Object(a.log)(e)},window.$cr.pmdi=function(){return"&val_123="+Object(a.getMetaKeywords)()},window.$cr.ext=function(){try{const e=Object(a.pcnl)(),t=!!e&&`int:${e}`;let n=window.$cr.url+"/message";const r=Object(a._getCookie)(i.CCDS_COOKIE);let c="";r&&(c=`&dmsi=${r}`),n+=`?cid=${window.$cr.cid}${c}&val_101=${window.$cr.cid}&val_102=${window.$cr.dn}&val_120=${window.$cr.bsrc}&val_101=${t}`;const o=Object(a.getMetaKeywords)();o&&""!==o&&(n+=`&val_123=${o}`);const _=Object(a._getCookie)(i.UUID_COOKIE);_&&-1===_.indexOf("<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`=")&&(n+=`&val_122=${_}`);return Object(a.getReferrer)()&&(n+=`&val_124=${refree}`),n.replace(/'/g,"%27")}catch(e){window.$cr.log("Error ext :: "+e)}},window.$cr.cll=function(){},window.$cr.cbkf=void 0===a.processResponse?null:a.processResponse,window.$cr.ckMap=void 0===a.ckMap?null:a.ckMap,window.$cr.chkSso=void 0===a.checkSSO?null:a.checkSSO,window.$cr.centralSSO=void 0===a.checkCentralSSO?null:a.checkCentralSSO,window.$cr.handleCentralSsoCallBack=void 0===a.handleCentralSSOCallback?null:a.handleCentralSSOCallback,window.$cr.handleCentralSSOCallBack=void 0===a.handleCentralSSOCallback?null:a.handleCentralSSOCallback,window.$cr.encodeUriParamValue=void 0===a.ecodeUri?null:a.ecodeUri,window.$cr.gdpb=void 0===a.gdpb?null:a.gdpb,window.$cr.jp={send:function(e,t){var n=t.callbackName,r=t.onSuccess||function(){},a=t.onTimeout||function(){},i=t.timeout||10,c=window.setTimeout((function(){window[n]=function(){},a()}),1e3*i);window[n]=function(e){window.clearTimeout(c),r(e)};var o=document.createElement("script");o.type="application/javascript",o.async=!0,o.src=e,o.onerror=function(){},document.getElementsByTagName("head")[0].appendChild(o)}},window.$cr.utmarr=function(e,t){return null!=document.location?window.$cr.utm(document.location.href,e,t):null},window.$cr.utm=function(e,t,n){var r=[];if(0<e.indexOf("utm_")){e=e.substr(e.indexOf(t)+1).split(n);for(let n in e)0<=(t=e[n]).indexOf("utm_source")?r.push("utm:src:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_medium")?r.push("utm:med:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_campaign")?r.push("utm:camp:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_term")?r.push("utm:trm:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_content")?r.push("utm:con:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_contents")?r.push("utm:cons:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_contente")?r.push("utm:cone:"+t.substr(t.indexOf("=")+1)):0<=t.indexOf("utm_chnnl=te")&&r.push("int:newsletter");if(""!=r[0])return r}return null},"undefined"!=typeof checkOneIdMap&&(window.$cr.checkOneIdMap=checkOneIdMap),"undefined"!=typeof sendCDPData&&(window.$cr.sendCDPData=sendCDPData))}catch(e){}}},$crr.run();let c=!1;if(document.onreadystatechange=function(){if(("interactive"===document.readyState||"complete"===document.readyState)&&!c){parseInt(Object(a._getCookie)(i.OPT_OUT_COOKIE))||(c=!0,Object(a.exec)({runPointExtractor:!0,runGdpb:!0,gtm:!1,gtmEvents:[],gtmEventFilters:["tags_meta_keyword","page_location","page_title","site_section","site_sub_section","sub_section_name"],appToMwebSync:!0,SSOCheck:!0,centralSSOCheck:!0,pcr:!0,utmCheck:!0,checkFrequency:void 0,pageDuration:void 0,articleClass:"toi-article-container",localStorageKeyForPrimeUserIdentification:"dmpStorage",captureTimeAndScroll:!0,DurationBetweenSimilarEvents:void 0,emh:1}))}},("interactive"===document.readyState||"complete"===document.readyState)&&!c){parseInt(Object(a._getCookie)(i.OPT_OUT_COOKIE))||(c=!0,Object(a.exec)({runPointExtractor:!0,runGdpb:!0,gtm:!1,gtmEvents:[],gtmEventFilters:["tags_meta_keyword","page_location","page_title","site_section","site_sub_section","sub_section_name"],appToMwebSync:!0,SSOCheck:!0,centralSSOCheck:!0,pcr:!0,utmCheck:!0,checkFrequency:void 0,pageDuration:void 0,articleClass:"toi-article-container",localStorageKeyForPrimeUserIdentification:"dmpStorage",captureTimeAndScroll:!0,DurationBetweenSimilarEvents:void 0,emh:1}))}Object(a.addEvent)({enable:!0,description:"share on home page top right",eventType:"click",eventAttribute:"data-ga",eventAttributeValues:["social_twitter","social_fb","social_rss","social_youtube","share-facebook","share-twitter","share-linkedin","share-pinterest"],eventBehaviorValueAttribute:"title",behaviorPrefix:["ua:share"]}),Object(a.addEvent)({enable:!0,description:"share on home page top right (video page)",eventType:"click",eventAttribute:"data-newga",eventAttributeValues:["Click-twitter-1","Click-fb-2","Click-rss-5","Click-youtube-4"],eventBehaviorValueAttribute:"title",behaviorPrefix:["ua:share"]}),Object(a.addEvent)({enable:!0,description:"article share on top left of content",eventType:"click",eventElement:"span",eventAttribute:"data-ga",eventAttributeValues:["atfShare_facebook","atfShare_twitter","atfShare_linkedin","atfShare_email"],eventBehaviorValueAttribute:"data-ga",behaviorPrefix:["ua:share"]}),Object(a.addEvent)({enable:!0,description:"article share on top right of content, timeline page",eventType:"click",eventElement:"span",eventAttribute:"data-ga",eventAttributeValues:["atf_share"],eventBehaviorValueAttribute:"data-ga",behaviorPrefix:["ua:share"]}),Object(a.addEvent)({enable:!0,description:"article share on top right sticky header, timeline page",eventType:"click",eventElement:"span",eventAttribute:"data-ga",eventAttributeValues:["sticky_share_header"],eventBehaviorValueAttribute:"data-ga",behaviorPrefix:["ua:share"]}),Object(a.addEvent)({enable:!1,description:"timeline share, timeline page",eventType:"click",eventElement:"span",eventAttribute:"data-ga",eventAttributeValues:["timeline_share"],eventBehaviorValueAttribute:"data-ga",behaviorPrefix:["ua:share"]}),Object(a.addEvent)({enable:!0,description:"share on bottom right video page",eventType:"click",eventAttribute:"class",eventAttributeValues:["SocialMediaShareButton"],eventBehaviorValueAttribute:"class",behaviorPrefix:["ua:share"]}),Object(a.addEvent)({enable:!0,description:"add comment on bottom of article",eventType:"click",eventAttribute:"aria-label",eventAttributeValues:["add comment"],behaviorPrefix:["ua:cmnt"]})}]);